<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animais Comunitários</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-Fdk5O5ztyULntgYGpEofNyYjROKZbM2aqLR5n/Dgj+TWn5w5jJ8gFwtSNd1r2rXq3lZxGIPt03exbsimBjR1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha384-ufVEIVl1TL/zqX9sW1UpD2M/F7bP+Jf0/Z7V8TCAawuT7Vp+W+NMU/2IYPQBEY9XJ" crossorigin="anonymous">
  </head>
  <body>
    <header class="header">
        <h1><i class="fas fa-paw"></i> Animais</h1>
      <div class="welcome">
        Seja Bem-vindo!
      </div>

      <div class="profile">
        {{name_login}}
        <i class="fas fa-user-circle profile-icon"></i>
      </div>

    </header>
    <main>

      <!-- Barra de filtro -->

      <div class="sidebar">
        <h2><i class="fas fa-filter"></i>  Filtros</h2>
        <form id="filter-form">
          <label for="center-select">Centro:</label>
          <select id="center-select">
            <option value="all">Todos</option>
            <option value="center1">CFCH</option>
            <option value="center2">CAC</option>
            <option value="center3">CIN</option>
            <option value="center3">CCSA</option>
            <option value="center3">CTG</option>
          </select>
          <label for="breed-select">Espécie:</label>
          <select id="breed-select">
            <option value="all">Todas</option>
            <option value="breed1">Cachorro</option>
            <option value="breed2">Gato</option>
            <option value="breed3">Outro</option>
          </select>
          <label for="age-select">Idade:</label>
          <select id="age-select">
            <option value="all">Todas</option>
            <option value="age1">1 ano</option>
            <option value="age2">1-10 anos</option>
            <option value="age3">Acima de 10 anos</option>
          </select>
          <button type="submit">Filtrar</button>
        </form>
        <div id="animal-count">
          Total de animais registrados: <span id="count">0</span>
        </div>
      </div>


      <div class="card-container">
        {% for animal in animal %}
        <div class="card">
          <div class="card-info">
            <img src="{{ url_for('static', filename=animal[6]) }}" alt="{{ animal[1] }} Imagem" height="150" width="150">
              <h2>{{ animal[1] }}</h2>
              <p>Espécie: {{ animal[2] }}</p>
              <p>Raça: {{ animal[3] }}</p>
              <p>Idade: {{ animal[4] }} anos</p>
              <p>ID: {{ animal[0] }}</p>
          </div>
        </div>
        {% endfor %}
      </div>


      <div class="pagination">
        <button class="prev-button"><i class="fas fa-chevron-left"></i> Anterior</button>
        <button class="next-button">Próxima <i class="fas fa-chevron-right"></i></button>
      </div>
    </main>
    
    <!-- Fixed Buttons -->
<div class="fixed-buttons">
    <button class="add-button" onclick="showAddForm()">+</button>
    <button class="remove-button" onclick="showRemoveForm()">-</button>
</div>
  
  <!-- Add Form Modal -->
  <div id="add-form-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="hideAddForm()">&times;</span>
      <h2>Cadastro de Animal</h2>
      <form enctype="multipart/form-data" id="animal-form" method="POST">

        <label for="id">Numero Id:</label>
        <input type="text" id="id" name="id" required>

        <label for="name">Nome:</label>
        <input type="text" id="name" name="name" required>
      
        <label for="species">Espécie:</label>
        <input type="text" id="species" name="species" required>
      
        <label for="breed">Raça:</label>
        <input type="text" id="breed" name="breed" required>
      
        <label for="age">Idade:</label>
        <input type="number" id="age" name="age" required>
      
        <label for="description">Descrição:</label>
        <textarea id="description" name="description" rows="3" required></textarea>
      
        <label for="image">Imagem:</label>
        <input type="file" id="image" name="image" accept="image/*" required>
      
        <label for="center">Centro:</label>
        <select id="center" name="center" style="width: 100%;" required>
          <option value="CFCH">CFCH</option>
          <option value="CAC">CAC</option>
          <option value="CIN">CIN</option>
          <option value="CIN">CCSA</option>
          <option value="CTG">CTG</option>

          <!-- Adicione mais opções de centros aqui -->
        </select>
      
      
        <button type="submit">Cadastrar</button>
      </form>
      
    </div>
  </div>

  <!-- Remove Form Modal -->
  <div id="remove-form-modal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="hideRemoveForm()">&times;</span>
        <h2>Remover Animal</h2>
        <form>
          <label for="search">Buscar animal:</label>
          <input type="text" id="search" name="search" required>
          
          <ul id="animal-list">
            <!-- Itens da lista serão adicionados aqui dinamicamente -->
          </ul>
          
          <button type="submit">Remover</button>
        </form>
      </div>   
  </div>
  

    <!-- Adicione um elemento para a nova tela com fundo semi-transparente -->
    <div class="overlay"></div>

    <!-- Adicione um elemento para o conteúdo da nova tela -->
    <div class="popup">
        <div class="animal-info">
            <div class="gallery">
                <div class="gallery-item">
                  <img src="https://picsum.photos/400/300?random=1" alt="Cachorro">
                </div>
                <div class="gallery-item">
                  <img src="https://picsum.photos/400/300?random=2" alt="Gato">
                </div>
              </div>              
              <h2 class="animal-name">Tommy</h2>
              <div class="animal-details">
                <div class="animal-property">
                  <p class="animal-label"><strong>Idade:</strong></p>
                  <p class="animal-value">5 anos</p>
                </div>
                <div class="animal-property">
                  <p class="animal-label"><strong>Raça:</strong></p>
                  <p class="animal-value">Vira-lata</p>
                </div>
                <div class="animal-property">
                  <p class="animal-label"><strong>Espécie:</strong></p>
                  <p class="animal-value">Canina</p>
                </div>
                <div class="animal-property">
                  <p class="animal-label"><strong>Local:</strong></p>
                  <p class="animal-value">CCSA</p>
                </div>
              </div>
              <p class="animal-description">Tommy é um cachorro de personalidade marcante, sua simpatia é contagiante e ele adora estar perto de pessoas e outros cães. Com seus 5 anos de idade, ele tem muita energia e sempre está pronto para brincar e correr.</p>
        </div>
      </div>      

<script>

// Adicione um event listener a cada card
const cards = document.querySelectorAll('.card');
cards.forEach(card => {
  card.addEventListener('click', () => {
    // Adicione a classe "show" ao elemento do fundo e da nova tela
    document.querySelector('.overlay').classList.add('show');
    document.querySelector('.popup').classList.add('show');
  });
});

// Adicione um event listener ao elemento do fundo para fechar a nova tela
document.querySelector('.overlay').addEventListener('click', () => {
  // Remova a classe "show" do elemento do fundo e da nova tela
  document.querySelector('.overlay').classList.remove('show');
  document.querySelector('.popup').classList.remove('show');
});


</script>



<!-- Script mostrar tela  -->

<script>

const addBtn = document.querySelector(".add-button");
const addFormModal = document.querySelector("#add-form-modal");
const removeBtn = document.querySelector(".remove-button");
const removeFormModal = document.querySelector("#remove-form-modal");
const closeBtns = document.querySelectorAll(".close");

addBtn.addEventListener("click", () => {
  addFormModal.style.display = "block";
});

removeBtn.addEventListener("click", () => {
  removeFormModal.style.display = "block";
});

closeBtns.forEach((btn) => {
  btn.addEventListener("click", () => {
    addFormModal.style.display = "none";
    removeFormModal.style.display = "none";
  });
});


modal.addEventListener("click", function(event) {
  if (event.target === modal) {
    modal.style.display = "none";
  }
});
</script>



<!-- Animais filtrados remove -->

<div id="logo-container">
  <img src="/static/images/logoufpe.png" alt="Logo UFPE">
</div>


<script>
  // Coloque o código JavaScript ou jQuery aqui para atualizar a quantidade de cards registrados
  // Exemplo com JavaScript puro:
  var totalAnimaisRegistrados = document.getElementsByClassName('card').length;
  document.getElementById('count').textContent = totalAnimaisRegistrados;
  
  // Exemplo com jQuery:
  // var totalAnimaisRegistrados = 5; // Substitua esse valor pelo total de cards registrados
  // $('#count').text(totalAnimaisRegistrados);
</script>

</body>
</html>


